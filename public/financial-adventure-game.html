<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoSim: Financial Adventure Game | EcoSaerthi</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css"> 
    <link rel="stylesheet" href="css/game-style.css">
</head>
<body class="game-page p-4 md:p-8">
    <header>
       <nav class="navbar">
            <a href="/" class="nav-logo">
                <img src="images/FINAL LOGO.png"  class="logo-image">
                <span class="nav-logo-text gradient-text">EcoSaarthi</span>
            </a>
            <ul class="nav-menu">
                <li class="nav-item"><a href="pocket-cfo.html">Budget</a></li>
                <li class="nav-item"><a href="tax-buddy.html">Taxes</a></li>
                <li class="nav-item"><a href="genz-moneyverse.html">Learn</a></li>
                <li class="nav-item"><a href="future-wealth.html">Invest</a></li>
                <li class="nav-item"><a href="economy-radar.html">Economy</a></li>
                <li class="nav-item"><a href="opportunity-engine.html">Schemes</a></li>
                <li class="nav-item" id="dashboard-nav-item"><a href="dashboard.html">Dashboard</a></li>
                <li class="nav-item" id="login-nav-item"><a href="login.html" class="btn btn-primary">Login
                    <img src="images/user.png" alt="user icon">
                </a></li>
                
            </ul>
        </nav>
    </header>

    <div id="game-container" class="max-w-7xl mx-auto hidden">
        <div class="flex flex-col md:flex-row justify-between md:items-center mb-10 gap-6">
            <header class="text-center md:text-left">
                <h1 id="home-btn" class="text-5xl font-bold text-white tracking-wider cursor-pointer">ECOSIM</h1>
                <p id="journey-title" class="text-lg text-indigo-300"></p>
            </header>
            <div id="goal-card" class="card md:w-2/5 lg:w-1/3">
                <h2 id="goal-title" class="text-xl font-semibold mb-2 text-white">üéØ Financial Goal</h2>
                <p id="goal-description" class="text-indigo-300 mb-2 text-sm"></p>
                <div class="progress-bar w-full">
                    <div id="progress-bar" class="progress text-white text-xs font-medium flex items-center justify-center" style="width: 0%;">0%</div>
                </div>
            </div>
        </div>
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="lg:col-span-1 space-y-8">
                <div class="card">
                    <h2 class="text-2xl font-semibold mb-4 text-white">üìä Your Status</h2>
                    <div class="grid grid-cols-2 gap-x-4 gap-y-6">
                        <div><p class="stat-label">Age</p><p id="age" class="stat-value text-white">22</p></div>
                        <div><p class="stat-label">Net Worth</p><p id="net-worth" class="stat-value text-white">‚Çπ0</p></div>
                        <div><p class="stat-label">Bank Balance</p><p id="cash" class="stat-value text-green-400">‚Çπ0</p></div>
                        <div><p class="stat-label">Investments</p><p id="investments" class="stat-value text-cyan-400">‚Çπ0</p></div>
                        <div><p class="stat-label">Debt</p><p id="debt" class="stat-value text-red-400">‚Çπ0</p></div>
                    </div>
                </div>
                 <div class="card">
                    <h2 class="text-2xl font-semibold mb-4 text-white">‚ö° Actions</h2>
                    <div class="space-y-4">
                        <div>
                            <label class="text-sm font-medium text-indigo-300">Manual Entry</label>
                            <div class="flex space-x-2 mt-1"><input type="number" id="invest-amount" class="w-full" placeholder="Amount"><button id="invest-btn" class="btn btn-secondary whitespace-nowrap">Invest</button></div>
                            <!-- !!! NEW SELL INPUT !!! -->
                            <div class="flex space-x-2 mt-2"><input type="number" id="sell-amount" class="w-full" placeholder="Amount"><button id="sell-btn" class="btn btn-secondary whitespace-nowrap">Sell</button></div>
                            <div class="flex space-x-2 mt-2"><input type="number" id="debt-amount" class="w-full" placeholder="Amount"><button id="pay-debt-btn" class="btn btn-secondary whitespace-nowrap">Pay Debt</button></div>
                        </div>
                        <div>
                            <label class="text-sm font-medium text-indigo-300">Quick Actions</label>
                            <div class="grid grid-cols-2 gap-2 mt-1">
                                <button id="invest-1000-btn" class="btn btn-secondary text-sm"><svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>Invest ‚Çπ1,000</button>
                                <button id="invest-5000-btn" class="btn btn-secondary text-sm"><svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg>Invest ‚Çπ5,000</button>
                                <!-- !!! NEW SELL BUTTONS !!! -->
                                <button id="sell-1000-btn" class="btn btn-secondary text-sm"><svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5l-3-3m0 0l-3 3m3-3v12"></path></svg>Sell ‚Çπ1,000</button>
                                <button id="sell-5000-btn" class="btn btn-secondary text-sm"><svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5l-3-3m0 0l-3 3m3-3v12"></path></svg>Sell ‚Çπ5,000</button>
                                <button id="pay-debt-1000-btn" class="btn btn-secondary text-sm"><svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"></path></svg>Pay ‚Çπ1,000</button>
                                <button id="pay-debt-5000-btn" class="btn btn-secondary text-sm"><svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"></path></svg>Pay ‚Çπ5,000</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="lg:col-span-2 space-y-8">
                <div class="card"><h2 class="text-2xl font-semibold mb-4 text-white">üìú Event Log</h2><div id="event-log" class="event-log p-3 rounded-md overflow-y-auto space-y-2"><p class="text-indigo-300">Welcome! Enter your details to begin.</p></div></div>
                <div class="card text-center bg-transparent border-none shadow-none p-0">
                    <button id="advance-month-btn" class="btn btn-primary w-full md:w-3/4 lg:w-1/2 text-lg py-3">
                        <span id="advance-btn-text">üöÄ Start Next Month</span>
                        <div id="advance-btn-loader" class="btn-loader hidden"></div>
                    </button>
                    <button id="coach-btn" class="btn btn-secondary w-full md:w-3/4 lg:w-1/2 mt-4">‚ú® Get AI Financial Advice</button>
                </div>
            </div>
        </div>
    </div>
    <div id="welcome-modal" class="modal-backdrop"><div class="modal-content card text-center"><h2 class="text-3xl font-bold mb-4 text-white">Welcome to EcoSim!</h2><p class="text-indigo-300 mb-6">Let's personalize your journey. Tell us a bit about yourself.</p>
        <div class="space-y-4">
            <input type="text" id="player-name" placeholder="Enter your name" class="w-full text-center">
            <input type="number" id="player-age" placeholder="Enter your starting age" class="w-full text-center">
            <input type="number" id="player-cash" placeholder="Enter your starting bank balance (e.g., 50000)" class="w-full text-center">
            <input type="number" id="player-debt" placeholder="Enter your total debt (e.g., 300000)" class="w-full text-center">
            <select id="goal-select" class="w-full text-center">
                <option value="" disabled selected>-- Select Your Goal --</option>
                <option value="debt">üí∏ Pay off your starting debt</option>
                <option value="emergency">üõ° Build a ‚Çπ1,50,000 Emergency Fund</option>
                <option value="car">üöó Save ‚Çπ8,00,000 for a new car</option>
                <option value="house">üè° Save ‚Çπ15,00,000 for a house down payment</option>
                <option value="invest100k">üìà Reach ‚Çπ10,00,000 in investments</option>
                <option value="retire">üèñ Build a net worth of ‚Çπ1,00,00,000</option>
            </select>
            <div id="welcome-error" class="text-red-400 text-sm mt-2 hidden"></div>
            <button id="start-game-btn" class="btn btn-primary w-full">Start Your Journey</button>
        </div>
    </div></div>
    <div id="choice-modal" class="modal-backdrop hidden"><div class="modal-content card"><h2 id="choice-title" class="text-2xl font-bold mb-2 text-white"></h2><p id="choice-description" class="text-indigo-300 mb-6"></p><div id="choice-buttons" class="space-y-3"></div></div></div>
    <div id="strategy-modal" class="modal-backdrop hidden"><div class="modal-content card text-center"><h2 id="strategy-title" class="text-2xl font-bold mb-4 text-white"></h2><div id="strategy-content"><p class="text-indigo-300 mb-6">Would you like some AI-powered advice to get started?</p><button id="generate-strategy-btn" class="btn btn-primary w-full">‚ú® Generate a Strategy</button></div><div id="strategy-loader" class="loader hidden"></div><div id="strategy-response" class="text-indigo-200 mt-4 hidden"></div><button id="close-strategy-btn" class="btn btn-circle btn-red animate-flicker mt-6">Let's Go!</button></div></div>
    <div id="coach-modal" class="modal-backdrop hidden"><div class="modal-content card"><h2 class="text-2xl font-bold mb-4 text-white">ü§ñ AI Financial Coach</h2><div id="coach-loader" class="loader"></div><div id="coach-response" class="text-indigo-200 hidden"></div><button id="close-coach-btn" class="btn btn-secondary w-full mt-6">Got it, thanks!</button></div></div>
    <div id="game-over-modal" class="modal-backdrop hidden"><div class="modal-content card text-center"><h2 id="game-over-title" class="text-3xl font-bold mb-4"></h2><p id="game-over-message" class="text-indigo-300 mb-6"></p><button onclick="window.location.reload()" class="btn btn-primary">Play Again</button></div></div>
    
    <script src="js/main.js" type="module"></script>
    <script src="js/game.js"></script> 
</body>
</html>