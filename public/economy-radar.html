<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Economy Radar | EcoSaarthi</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Inter:wght@400;500&display=swap"
        rel="stylesheet">

    <style>
        .year-selector {
            background-color: var(--glass-bg, rgba(255, 255, 255, 0.08));
            color: #fff;
            border: 1px solid var(--glass-border, rgba(255, 255, 255, 0.15));
            border-radius: 12px;
            padding: 8px 12px;
            font-size: 14px;
            outline: none;
            appearance: auto;
            min-width: 110px;
        }

        .year-selector option {
            background-color: #222;
            color: #fff;
        }

        .year-selector-container {
            position: absolute;
            top: 70px;
            right: 20px;
            z-index: 10;
            display: flex;
            align-items: center;
            gap: 8px;
            background-color: rgba(0, 0, 0, 0.4);
            padding: 6px 10px;
            border-radius: 8px;
        }

        .year-selector-label {
            color: white;
            font-weight: bold;
            font-size: 14px;
            white-space: nowrap;
        }

        /* --- CARD STYLES & EFFECTS --- */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .calc-result-container {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: rgba(0, 0, 0, 0.2);
            border-left: 4px solid var(--glow-green);
            border-radius: 4px;
            animation: fadeIn 0.5s ease;
            text-align: left;
        }

        .calc-result-container p {
            margin: 0 0 0.75rem 0;
            line-height: 1.6;
            color: var(--subtle-text);
            font-size: 0.9rem;
        }

        .calc-result-container p:last-child {
            margin-bottom: 0;
        }

        .calc-result-container .result-value {
            display: block;
            font-size: 1.8rem;
            font-weight: 700;
            color: #FFFFFF;
            margin-top: 0.25rem;
        }

        .calc-result-container .result-value.highlight {
            color: var(--glow-green);
        }

        .calc-result-container .result-value.warning {
            color: var(--glow-red);
        }

        .card {
            opacity: 0;
            animation: fadeInUp 0.5s ease-out forwards;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }

        .card:hover {
            transform: translateY(-6px);
            box-shadow: 0 12px 28px rgba(0, 0, 0, 0.25);
        }

        /* --- Animation Delay Sequencing --- */
        .top-cards-layout .card:nth-child(1) {
            animation-delay: 0.0s;
        }

        .top-cards-layout .card:nth-child(2) {
            animation-delay: 0.1s;
        }

        .currency-container-card {
            animation-delay: 0.2s;
        }

        .currency-container-card .currency-card:nth-child(1) {
            animation-delay: 0.3s;
        }

        .currency-container-card .currency-card:nth-child(2) {
            animation-delay: 0.4s;
        }

        .currency-container-card .currency-card:nth-child(3) {
            animation-delay: 0.5s;
        }

        .currency-container-card .currency-card:nth-child(4) {
            animation-delay: 0.6s;
        }

        .currency-container-card .currency-card:nth-child(5) {
            animation-delay: 0.7s;
        }

        .ai-economist-card {
            animation-delay: 0.8s;
        }

        /* CORRECTED: Selector updated for bottom cards */
        .bottom-cards-layout .card:nth-child(1) {
            animation-delay: 0.9s;
        }

        .bottom-cards-layout .card:nth-child(2) {
            animation-delay: 1.0s;
        }

        /* --- SECTION-SPECIFIC LAYOUT STYLES --- */

        /* Layout for the top two cards */
        .top-cards-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2.5rem;
            margin-bottom: 2rem;
        }

        .top-cards-layout .card {
            margin-bottom: 0;
        }

        /* NEW: Layout for the bottom two calculator cards */
        .bottom-cards-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2.5rem;
        }

        .bottom-cards-layout .card {
            margin-bottom: 0;
        }

        .currency-container-card {
            padding-bottom: 1.5rem;
        }

        .five-column-layout {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
            padding: 0 1rem;
        }

        .currency-card {
            text-align: center;
            padding: 1rem 0.5rem;
        }

        .currency-card h4 {
            font-size: 1rem;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 0.5rem;
        }

        .currency-card h2 {
            font-size: 1.6rem;
            color: #fff;
            font-weight: 700;
        }

        /* --- AI ECONOMIST TOGGLE --- */
        #ai-economist-toggle {
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #ai-explainer-content {
            display: none;
            margin-top: 1.5rem;
        }

        .toggle-arrow {
            border: solid white;
            border-width: 0 2.5px 2.5px 0;
            display: inline-block;
            padding: 4px;
            transform: rotate(45deg);
            transition: transform 0.3s ease-in-out;
        }

        #ai-economist-toggle[aria-expanded="true"] .toggle-arrow {
            transform: rotate(-135deg);
        }

        @media (max-width: 520px) {
            .year-selector-container {
                right: 12px;
                top: 64px;
            }
        }
    </style>
</head>

<body class="economy-radar-page">
    <div class="aurora-background">
        <div class="aurora-shape shape1"></div>
        <div class="aurora-shape shape2"></div>
    </div>

    <header>
        <nav class="navbar">
            <a href="/" class="nav-logo">
                <img src="images/FINAL LOGO.png" class="logo-image">
                <span class="nav-logo-text gradient-text">EcoSaarthi</span>
            </a>
            <ul class="nav-menu">
                <li class="nav-item"><a href="career-compass.html">Career</a></li>
                <li class="nav-item"><a href="pocket-cfo.html">Budget</a></li>
                <li class="nav-item"><a href="tax-buddy.html">Taxes</a></li>
                <li class="nav-item"><a href="genz-moneyverse.html">Learn</a></li>
                <li class="nav-item"><a href="future-wealth.html">Invest</a></li>
                <li class="nav-item"><a href="economy-radar.html">Economy</a></li>
                <li class="nav-item"><a href="opportunity-engine.html">Schemes</a></li>
                <li class="nav-item" id="dashboard-nav-item"><a href="dashboard.html">Dashboard</a></li>
                <li class="nav-item" id="login-nav-item"><a href="login.html" class="btn btn-primary">Login
                        <img src="images/user.png" alt="user icon">
                    </a></li>

            </ul>
        </nav>
    </header>

    <!-- YEAR SELECTOR FIXED UNDER LOGIN -->
    <div class="year-selector-container">
        <label for="year-selector" class="year-selector-label">Select a Year:</label>
        <select id="year-selector" class="year-selector" aria-label="Select a year"></select>
    </div>

    <main class="container">
        <div class="page-header">
            <h1 class="gradient-text-main">Economy Radar</h1>
            <p>Understand how the big picture affects your personal finances. Data sourced from government and central
                bank APIs.</p>
        </div>

        <div class="top-cards-layout">
            <div class="card">
                <h3>Inflation Rate (YoY)</h3>
                <h2 id="inflation-rate">Loading...</h2>
            </div>
            <div class="card">
                <h3>GDP Growth (Annual %)</h3>
                <h2 id="gdp-growth">Loading...</h2>
            </div>
        </div>

        <!-- START OF CHANGE -->
        <!-- The currency card is now on its own row, allowing it to expand horizontally -->
        <div class="card currency-container-card">
            <h3>Currency Exchange Rates (End of Year, vs INR)</h3>
            <div class="five-column-layout">
                <div class="card currency-card">
                    <h4>USD / INR</h4>
                    <h2 id="rate-USD">Loading...</h2>
                </div>
                <div class="card currency-card">
                    <h4>EUR / INR</h4>
                    <h2 id="rate-EUR">Loading...</h2>
                </div>
                <div class="card currency-card">
                    <h4>GBP / INR</h4>
                    <h2 id="rate-GBP">Loading...</h2>
                </div>
                <div class="card currency-card">
                    <h4>JPY / INR</h4>
                    <h2 id="rate-JPY">Loading...</h2>
                </div>
                <div class="card currency-card">
                    <h4>AUD / INR</h4>
                    <h2 id="rate-AUD">Loading...</h2>
                </div>
            </div>
        </div>

        <!-- The AI Economist card is now on the line below the currency card -->
        <div class="card ai-economist-card">
            <div id="ai-economist-toggle" role="button" aria-expanded="false">
                <h3>EcoSaarthi AI Economist</h3>
                <span class="toggle-arrow"></span>
            </div>
            <div id="ai-explainer-content">
                <p>Fetching AI-powered analysis of the selected year...</p>
            </div>
        </div>
        <!-- END OF CHANGE -->


        <!-- CORRECTED HTML: Using a new class for the bottom two cards -->
        <div class="bottom-cards-layout">
            <div class="card">
                <h3>Inflation's Impact on Your Budget</h3>
                <form id="inflation-calc-form">
                    <div class="form-group">
                        <label for="monthly-spending">My typical monthly spending on essentials:</label>
                        <input type="number" id="monthly-spending" placeholder="e.g., 15000" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Calculate Impact</button>
                    <div id="inflation-result" class="calc-result-container" style="display: none;"></div>
                </form>
            </div>
            <div class="card">
                <h3>Interest Rate's Impact on Your Loans</h3>
                <form id="loan-calc-form">
                    <div class="form-group">
                        <label for="loan-amount">If I take a loan of (₹):</label>
                        <input type="number" id="loan-amount" placeholder="e.g., 500000" required>
                    </div>
                    <div class="form-group">
                        <label for="loan-duration">For how many years?</label>
                        <input type="number" id="loan-duration" placeholder="e.g., 20" required>
                    </div>
                    <div class="form-group">
                        <label for="loan-interest-rate">At a current rate of interest (%):</label>
                        <input type="number" id="loan-interest-rate" step="0.01" placeholder="e.g., 8.5" required>
                    </div>
                    <button type="submit" class="btn btn-primary">Calculate EMI Scenarios</button>

                    <div id="loan-result" class="calc-result-container" style="display: none;"></div>
                </form>
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="footer-content">
            <div class="footer-logo-container">
                <img src="images/FINAL LOGO.png" alt="EcoSaarthi Logo" class="footer-logo">
                <h3>EcoSaarthi</h3>
            </div>
            <h4>Our Team: Bitnomads</h4>
            <div class="team-cards">
                <div class="team-card">
                    <h5>Krrish Barsiwal</h5>

                    <p><a href="mailto:krrishbarsiwal777@gmail.com">krrishbarsiwal777@gmail.com</a></p>
                </div>
                <div class="team-card">
                    <h5>Divya Pandey</h5>

                    <p><a href="mailto:divya.pandey1512@gmail.com">divya.pandey1512@gmail.com</a></p>
                </div>
                
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2025 Building a More Financially Resiliant India.</p>
        </div>
    </footer>

    <script src="js/economy-radar.js" type="module"></script>
    <script src="js/main.js" type="module"></script>
    <script src="js/mobile-menu.js"></script>

    <script>
        // This script handles only the AI Economist toggle
        (function () {
            const aiToggle = document.getElementById('ai-economist-toggle');
            const aiContent = document.getElementById('ai-explainer-content');
            if (aiToggle && aiContent) {
                aiToggle.addEventListener('click', () => {
                    const isHidden = aiContent.style.display === '' || aiContent.style.display === 'none';
                    aiContent.style.display = isHidden ? 'block' : 'none';
                    aiToggle.setAttribute('aria-expanded', isHidden ? 'true' : 'false');
                });
            }
        })();
    </script>
</body>

</html>